# Internal API Documentation

This document provides a rundown of all backend API routes, their methods, paths, and main purpose. Use this as a reference for frontend-backend cohesion and for future development.

---

## Auth Routes (`/api/auth`)
- **POST `/login`**: User login. Expects username and password. Sets session/cookie.
- **POST `/logout`**: User logout. Clears session/cookie.
- **GET `/me`**: Get current logged-in user (requires auth, checks session/cookie).
- **GET `/progress`**: Get all progress for the current user.
- **GET `/progress/:lessonId`**: Get progress for a specific lesson for the current user.
- **POST `/progress`**: Update user progress (requires auth).
- **GET `/admin/users`**: (Admin) Get all users.
- **PATCH `/admin/users/:userId/role`**: (Admin) Update user role.

## User Routes (`/api/users`)
- **GET `/`**: Get all users.
- **GET `/:id`**: Get user by ID.

## Lesson Routes (`/api/lessons`)
- **GET `/`**: Get all lessons (public or user-specific, depending on implementation).
- **GET `/:lessonId`**: Get a specific lesson by ID.

## Exercise Routes (`/api/exercises`)
- **GET `/lesson/:lessonId`**: Get all exercises for a lesson.
- **GET `/lesson/:lessonId/type/:type`**: Get exercises for a lesson by type.
- **GET `/:exerciseId`**: Get a single exercise by ID.
- **POST `/:exerciseId/submit`**: Submit an answer for an exercise.
- **POST `/`**: Create a new exercise (admin only).
- **PUT `/:exerciseId`**: Update an existing exercise (admin only).
- **DELETE `/:exerciseId`**: Delete an exercise (admin only).

## Admin Routes (`/api/admin`)
- **GET `/users/recent`**: Get recent users (admin only).
- **GET `/stats`**: Get platform statistics (admin only).
- **GET `/lessons`**: Get all lessons with exercises (admin only, full details).
- **GET `/lessons-simple`**: Get all lessons (admin only, minimal fields, robust).
- **GET `/users`**: Get all users (admin only).
- **PUT `/settings`**: Update platform settings (admin only).

---

**Note:** All routes requiring authentication expect a valid session cookie or token. Admin routes require admin privileges.

**Frontend API utility functions should match these endpoints for full cohesion.**

---

_Last updated: [auto-generated by AI]_ 